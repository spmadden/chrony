chrony (1.21-2) unstable; urgency=high
  
  * Patched io_linux.h to add missing architectures.
    Closes: #339764: chrony - FTBFS: #error "I don't know the values of the
    _IOC_* constants for your architecture"
  
  * Fixed brown-bag error in rules.
    Closes: #339853: /usr/sbin/chronyd is missing
  
 -- John Hasler <jhasler@debian.org>  Sat, 19 Nov 2005 10:12:49 -0600

chrony (1.21-1) unstable; urgency=low

  * New upstream release
    Closes: #328292: New version of chrony avalaible
    Closes: #301592: Fails to read RTC and floods logfiles
  
  * Enabled RTC as upstream has installed a work-around for the HPET bug.

  * Switched to libreadline5.
    Closes: #326379: please rebuild with libreadline5-dev as build dependency
  
  * Patched addrfilt.c to fix gcc 4.0 build problem.
    Closes: #298709: chrony: FTBFS (amd64/gcc-4.0): array type has incomplete element type
  
  * There are lots more minor things to fix but I'm uploading now to close
    the serious bugs.  I'll upload another version with some improvements
    in a few weeks. 
   
 -- John Hasler <jhasler@debian.org>  Tue, 15 Nov 2005 18:39:49 -0600
  
chrony (1.20-8) unstable; urgency=high

  * Added test for /usr/bin/mail in postinst.
    Closes: #307061: Install failure: Cannot configure on system without mailx
    I consider this bug serious because it can cause installation to fail
    and so I want to get the fix into Sarge.
  
  * Fixed typo in chrony.conf, replaced '/etc/init.d/chrony restart'
    with 'invoke-rc.d chrony restart'.
    Closes: #305090: Typo in chrony.conf, should mention invoke-rc.d

  * Added README.Debian explaining that rtc is off by default.
  
 -- John Hasler <jhasler@debian.org>  Sat, 30 Apr 2005 18:47:30 -0500

chrony (1.20-7) unstable; urgency=low

  * Added info-4 to debian/rules.
    Closes: #287142: chrony: Can't find chrony.info-4

  * Corrected "See Also" section in chrony man page.  Now mentions
    chronyc(1), chronyd(8), and chrony.conf(5).
    Closes: #287444: chrony.1.gz: SEE ALSO on man page has wrong section.
  
  * Edited chrony.conf to disable rtc by default and explain why:
    on some systems that use genrtc or the HPET real-time clock it
    fails and causes chronyd to fill up the log.  The failure is
    probably due to a kernel bug, bug the logging should be
    throttled.
  
  * Added more explanatory comments at the servers directive in 
    chrony.conf.
  
  * The postinst script now sends a message to root saying where the
    password is, whether Chrony is assuming UTC or local time,
    that rtc updating is disabled, why, and how to change it.
  
  * Added missing '#' to
    "Can't tell how your clock is set: assuming local time."
    in postinst.
  
 -- John Hasler <jhasler@debian.org>  Tue, 12 Apr 2005 17:59:13 -0500

chrony (1.20-6) unstable; urgency=low

  * Fixed error in chrony.conf where the non-existent 'online' directive
    was mentioned.
    Closes: #257235 misleading instructions in chrony.conf
  
  * Patched Makefile.in to generate faq.html.
    Closes: #265936 /usr/share/doc/chrony/faq.txt.gz: how to read?
  
 -- John Hasler <jhasler@debian.org>  Sat,  4 Dec 2004 17:47:31 -0600

chrony (1.20-5) unstable; urgency=low
  
  * Put pool.ntp.org servers in chrony.conf as defaults.
  
  * Fixed erroneous references to chronyd(1) in some man pages.
    Closes: #241746 SEE ALSO chronyd(1) should be (8)
  
  * I got a new motherboard and can no longer reproduce this.
    If you can please reopen the bug.
    Closes: #223518 Rtc stuff is broken
  
  * Edited chrony.conf(5).
    Closes:  #241745 many more features have been added
  
  * Edited chrony.conf to add logchange and mailonchange and to 
    enable rtc by default.
    Closes: #226644 /etc/chrony/chrony.conf: rtc; not all options are noted in conf file

  * Fixed upstream: see NEWS.
    Closes: #124089 mistake in the chrony manual
    Closes: #177366: trailing blank on log lines
    Closes: #195618 failure to use /dev/misc/rtc floods logfiles
    Closes: #53066 "acquisitionport" directive and doc fixes [patch]
    Closes: #100880 RFE: don't use /proc when uname(2) will do
    Closes: #163470: different bindaddresses for ntp port and control port
    Closes: #200174: Chrony breaks under Kernel 2.5 (two bugs)
  
 -- John Hasler <jhasler@debian.org>  Sat, 10 Apr 2004 22:00:00 -0500

chrony (1.20-4) unstable; urgency=low
  
  * Added '#include <asm/types>' to rtc_linux.c to fix Alpha build problem.
    Also removed spinlock stuff from configure.
  
 -- John Hasler <jhasler@debian.org>  Fri, 26 Dec 2003 21:00:00 -0600

chrony (1.20-3) unstable; urgency=low
  
  * Removed all inclusions of kernel headers.
    Hopefully Chrony will now build on m68k.
  
 -- John Hasler <jhasler@debian.org>  Tue, 23 Dec 2003 19:00:00 -0600

chrony (1.20-2) unstable; urgency=low

  * Removed spinlock.h and mc146818.h from rtc_linux.c.  linux/rtc.h and 
    RTC_UIE=0x10 provide everything needed now.
    Closes: #223134 FTBFS: Errors in kernel headers

  * However, rtc is now broken (and appears to have been broken for some time)
    on 440BX chipsets with 2.4 kernels.

 -- John Hasler <jhasler@debian.org>  Fri, 12 Dec 2003 13:00:00 -0600  
  
chrony (1.20-1) unstable; urgency=low

  * New upstream release.
  
  * Frank Otto's patch to sys_linux.c, function guess_hz_and_shift_hz now
    incorporated upstream.
    Closes: #198557 Fatal error: chronyd can't determine hz for kernel with HZ=200

  * Security and 64 bit patches are now incorporated upstream
    along with most non-i386 architecture patches.
  
  * Put correct links in /usr/share/doc/chrony/timeservers.
    Closes: #189686 /usr/share/doc/timeservers links are broken
  
  * Put correct links in chrony.conf.
    Closes: #210886 bad link in chrony.conf
  
  * Put missing newlines in apm and chrony.keys.
    Closes: #211604 Build-warning: some files misses final newline
  
  * Removed conflict with ntpdate.
  
 -- John Hasler <jhasler@debian.org>  Tue, 7 Oct 2003 22:00:00 -0500

chrony (1.19-10) unstable; urgency=low

  * Put linux/linkage.h ahead of linux/spinlock.h as I meant to in
    the first place.

 -- John Hasler <john@dhh.gt.org>  Sun, 13 Jul 2003 7:00:00 -0500

chrony (1.19-9) unstable; urgency=low

  * Added "#include <linux/linkage.h>" to rtc_linux.c to fix mips
    build failure.
    Closes: #200165 chrony doesn't build on mips and mipsel

 -- John Hasler <john@dhh.gt.org>  Sat, 12 Jul 2003 10:00:00 -0500

chrony (1.19-8) unstable; urgency=low

  * Added bison to build-depends because of addition of getdate.y

 -- John Hasler <john@dhh.gt.org>  Tue, 3 Jun 2003 10:00:00 -0500

chrony (1.19-7) unstable; urgency=high

  * Closes: #186498 chronyc hangs if no chronyd is running
    Added test for running daemon to ip-{up|down} scripts.
    Disabled trimrtc for ALPHA
    Closes: #195615 GPL violation - generated file without source	
  * Added a copy of getdate.y to source.
	
 -- John Hasler <john@dhh.gt.org>  Sun, 1 Jun 2003 7:00:00 -0500

chrony (1.19-6) unstable; urgency=low

  * Closes: #179842 "CROAK" redefined
    Added '#undef CROAK' before CROAK redefiniton in pktlength.h,
    added '-DALPHA' to 'alpha' condition in configure, added 
    'ifdef ALPHA' around CROAK redefinition.
  * Replaced many signed and unsigned longs as well as some ints,
    shorts, and chars with stdint.h types in candm.h, md5.h, ntp.h,
    clientlog.h, and ntp_io.c.  This should fix all 64-bit problems.

 -- John Hasler <john@dhh.gt.org>  Fri, 14 Mar 2003 19:00:00 -0600
	
chrony (1.19-5) unstable; urgency=high

  * Closes: #184065 Assertion `sizeof(NTP_int32) == 4' failed on alpha
    Fixed several spots where the author assumed that a long is 32 bits.
    There are many more misuses of long as well as several of short and
    char but I think I got the only ones likely to cause trouble.

 -- John Hasler <john@dhh.gt.org>  Fri, 14 Mar 2003 11:00:00 -0600
	
chrony (1.19-4) unstable; urgency=low

  * Closes: #179538 FTBFS: missing build-depends on makeinfo
    Added texinfo to build-depends.
  * CLoses: #179508: chrony(c|d) show wrong version numbers
    Removed spurious version.h.

 -- John Hasler <john@dhh.gt.org>  Sun, 2 Feb 2003 19:00:00 -0600	

chrony (1.19-3) unstable; urgency=low
	
  * Updated author's address in copyright file.
  * Closes:  #163446 patch, that scripts can handle all commandkeys
    Applied debugged patch.
  * Closes: #107863 doesn't know about APM
    Put apm script in debian/ and added rules to copy it to
    etc/apm/event.d as instructed by the apmd maintainer.

 -- John Hasler <john@dhh.gt.org>  Fri, 31 Jan 2003 18:00:00 -0600	

chrony (1.19-2) unstable; urgency=low

  * Closes: #100879 unnecessary dependency on libm
    Applied patch from Zack Weinberg <zack@codesourcery.com>
  * Closes: #124091 the force-reload command of /etc/init.d/chrony should
    use the -r option.
    Added -r option.

 -- John Hasler <john@dhh.gt.org>  Wed, 29 Jan 2003 10:00:00 -0600
	
chrony (1.19-1) unstable; urgency=low

  * New upstream release.
  * Closes: #178338 New upstream version fixes crashes caused by adjtimex
    failure
  * Closes: #178101 /etc/ppp/ip-{up,down}.d/chrony installed with
    incorrect permissions
    This bug was previously reported and fixed in 18-1
  * Closes: #176130 got an error when I use ppp_on_boot	
    Changed 'update-rc.d chrony defaults 83' to
    'update-rc.d chrony defaults 14' in init.d so that chrony 
    will come up before ppp.
  * Added code to postinst to read /etc/default/rcS and
    set rtconutc appropriately in chrony.conf.
  * Rewrote password generator in postinst.
  * Closes: #100879 unnecessary dependency on libm
    I don't know why this wasn't closed months ago.
  * Closes: #103447 typo in "/etc/init.d/chrony"
  * Closes: #124087 problems with /etc/init.d/chrony
    Fixed script.
  * Closes: #161350 /etc/ppp/ip-down.d/chrony cat unnecessary
    Fixed scripts.
  * Closes: #113840 ntp has been split - add conflicts?
    Added ntp-simple and ntp-refclock to conflicts.

 -- John Hasler <john@dhh.gt.org>  Sun, 26 Jan 2003 15:00:00 -0600

chrony (1.18-2) unstable; urgency=low

  * Corrects error in changelog which resulted
    in uploads being erroneously classified as NMUs.
  * Closes: #138142, #104774, #142670, #105344, #101039
  * Closes: #162427, #56756, #98951, #99799, #139633
  * Closes: #163469, #163408, #167416
	
 -- John Hasler <john@dhh.gt.org>  Sun, 3 Nov 2002 20:00:00 -0600

chrony (1.18-1) unstable; urgency=low

  * New upstream release.
  * Closes: #138142 new upstream release
  * Added Mark Brown's Alpha and PowerPC patch.
  * Closes: #104774 hppa build failure
    Applied patch.
  * Closes: #142670 compilation errors on sparc
    Applied patch.
  * Closes: #105344 ip-{up, down}.d/chrony not executable
    Fixed debian/rules.
  * Closes: #101039 does not run on Alpha
    Fixed by above mentioned Mark Brown patch.	
  * Closes: #162427 description should mention NTP
    Fixed description.
  * Closes: #56756 README.debian should caution about hwclock
    Fixed README.debian.
  * Closes: #98951 no chrony.keys file installed
    Not reproducible, probable user error.
  * Closes: #99799 logs world readable 
    Added umask 022 to log script.
  * Closes: #139633 documentation error
    Added rtconutc to chrony.conf.
  * Closes: #163469 no default case in init.d script
    Corrected typo.
  * Closes: #163408 PIDFILE wrongly defined in ip-{up,down}
    No chrony script uses any such variable.
  * Closes: #167416 needs Build-Depends: libreadline4-dev
	
 --  <john@dhh.gt.org>  Sun, 3 Nov 2002 10:00:00 -0600

chrony (1.14-7) unstable; urgency=medium

  * Changed rtc_linux.c to not include linux/mc146818rtc.h
    when building for sparc, because Moshe Zadka says this
    will allow chrony to build there.
  * Closes: #142670

 --  <jhasler@debian.org>  Wed, 17 Apr 2002 17:00:00 -0500

chrony (1.14-6) unstable; urgency=low

  * Changed architecture back to 'any'.
  * Applied portability patch from LaMont Jones.
  * Closes: #104774

 --  <jhasler@debian.org>  Mon, 1 Apr 2002 21:00:00 -0600

chrony (1.14-5) unstable; urgency=low

  * Changed architecture from 'any' to 'i386 sparc'.
    Neither I nor the author can test on anything but i386.  If
    you want chrony on anything else send me a tested patch.
  * Closes: #101039
  * Closes: #104774

 --  <john@dhh.gt.org>  Fri, 28 Dec 2001 20:10:00 -0600

chrony (1.14-4) unstable; urgency=low

  * Fixed bug in man pages.
  * Closes: #95134

 --  <john@dhh.gt.org>  Tue, 24 Apr 2001 20:10:00 -0500

chrony (1.14-3) unstable; urgency=low

  * Replaced <linux/spinlock.h> in rtc_linux.c with
    typedef int spinlock_t as suggested by Paul Slootman.
  * Put #define CROAK(message) assert(0) in pktlength.h
    to fix Alpha build problem.
  * Closes: #86991

 --  <john@dhh.gt.org>  Sat, 24 Feb 2001 22:45:00 -0600

chrony (1.14-2) unstable; urgency=low

   * Closes: #84597

 --  <john@dhh.gt.org>  Sat, 3 Feb 2001 21:25:00 -0600

chrony (1.14-1) unstable; urgency=low

   * New upstream release.
   * Fixed more sprintfs.
   * Closes: #50793, #52570, #48216, #65209, #62924, #70377, #61485, #76661 

 --  <john@dhh.gt.org>  Mon, 20 Nov 2000 20:25:00 -0600

chrony (1.10-3) unstable; urgency=low

   * Patched cron,weekly script with (corrected) patch
     from Rene H. Larsen <renehl@post1.tele.dk>.
   * Updated author address in copyright file.
   * Compiled with egcs.
   * Closes: #41885, #41551

 --  <john@dhh.gt.org>  Sun, 25 July 1999 12:14:00 -0500

chrony (1.10-2) unstable; urgency=low

   * Patched rtc_linux.c with patch for SPARC from
     bmc@visi.net.

 --  <john@dhh.gt.org>  Mon, 17 May 1999 22:30:00 -0500

chrony (1.10-1) unstable; urgency=low

   * New upstream release.
   * Upstream version number is 1.1.  Debian version
     number is 1.10 because previous upstream number
     was 1.02.

 --  <john@dhh.gt.org>  Wed, 12 May 1999 20:30:00 -0500

chrony (1.02-7) unstable; urgency=low

   * Changed configure to permit building on non-Intel.

 --  <john@dhh.gt.org>  Wed, 5 May 1999 18:00:00 -0500

chrony (1.02-6) unstable; urgency=low

   * Fixed postrm bug.

 --  <john@dhh.gt.org>  Thur, 29 Apr 1999 18:00:00 -0500

chrony (1.02-5) unstable; urgency=low

   * Fixed bugs 34954 and 36921.
   * Moved to priority extra.
   * Added README.debian text about rtc.

 --  <john@dhh.gt.org>  Thur, 15 Apr 1999 21:30:00 -0500

chrony (1.02-4) unstable; urgency=low

   * Replaced sprintf's with snprintf's.

 --  <john@dhh.gt.org>  Sun,  28 Feb 1999 16:53:00 -0600

chrony (1.02-3) unstable; urgency=low

   * Fixed bugs in cron.weekly, ip-up.d, and ip-down.d.
   * Bug 29981 is also fixed.

 --  <john@dhh.gt.org>  Sun,  6 Dec 1998 9:53:00 -0600

chrony (1.02-2) unstable; urgency=low

  * Added cron.weekly.
  * Changed ip-up.d, ip-down.d, and cron.weekly to read the
    password from chrony.keys.
  * Added code to postinst to generate a random password and
    put it in chrony.keys.

 --  <john@dhh.gt.org>  Thur,  3 Dec 1998 19:00:08 -0600

chrony (1.02-1) unstable; urgency=low

  * Initial Release.

 --  <john@dhh.gt.org>  Fri,  6 Nov 1998 23:00:08 -0600
